# ğŸ“‚ 9ì¥ ì»¬ë ‰ì…˜

## ëª©ì°¨
- 01_ê°œìš”.md
- 02_ë¶ˆë³€ì»¬ë ‰ì…˜.md
- 03_ë¶ˆë³€ì»¬ë ‰ì…˜_ì˜ˆì‹œ.md
- 04_ìŠ¤ë ˆë“œì•ˆì „ì»¬ë ‰ì…˜.md
- 05_ìŠ¤ë ˆë“œì•ˆì „_ì˜ˆì‹œ.md
- 06_ìƒì‚°ìì†Œë¹„ìì»¬ë ‰ì…˜.md
- 07_Channel_ì˜ˆì‹œ.md
- 08_ìŠ¤ë¡œí‹€ë§.md
- 09_ìƒ˜í”Œë§.md
- 10_NuGet_ìš”ì•½.md
- 11_ê²°ë¡ .md

---

# ğŸ“Œ ë™ì‹œì„± ì»¬ë ‰ì…˜ ê°œìš”

- ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°ì—ì„œ ì»¬ë ‰ì…˜ ì„ íƒì€ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì— í° ì˜í–¥
- C#ì€ ë‹¤ì–‘í•œ ë™ì‹œì„± ì¹œí™” ì»¬ë ‰ì…˜ì„ ì œê³µ  
  - ë¶ˆë³€ ì»¬ë ‰ì…˜
  - ìŠ¤ë ˆë“œ ì•ˆì „ ì»¬ë ‰ì…˜
  - ìƒì‚°ì/ì†Œë¹„ì ì»¬ë ‰ì…˜

---

## ğŸ§© ë¶ˆë³€ ì»¬ë ‰ì…˜ (Immutable Collections)

### âœ… íŠ¹ì§•
- ì»¬ë ‰ì…˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì ˆëŒ€ ë³€ê²½ë˜ì§€ ì•ŠìŒ
- ì“°ê¸° ì‘ì—… ì‹œ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
- ìŠ¤ë ˆë“œ ì•ˆì „
- ë©”ëª¨ë¦¬ ê³µìœ ë¡œ íš¨ìœ¨ì 

### ğŸ”§ ì£¼ìš” íƒ€ì…
- `ImmutableStack<T>`, `ImmutableQueue<T>`
- `ImmutableList<T>`
- `ImmutableHashSet<T>`, `ImmutableSortedSet<T>`
- `ImmutableDictionary<TKey, TValue>`, `ImmutableSortedDictionary<TKey, TValue>`

### ğŸ“¦ NuGet
- `System.Collections.Immutable`

### ğŸ§ª ì˜ˆì‹œ

```csharp
var stack = ImmutableStack<int>.Empty;
stack = stack.Push(13).Push(7);
foreach (var item in stack)
    Console.WriteLine(item); // 7, 13
```
- Push, Popì€ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜
- ì°¸ì¡° ë³€ìˆ˜ëŠ” ìŠ¤ë ˆë“œ ì•ˆì „í•˜ì§€ ì•ŠìŒ

---

## ğŸ” ìŠ¤ë ˆë“œ ì•ˆì „ ì»¬ë ‰ì…˜

### âœ… íŠ¹ì§•
- ì—¬ëŸ¬ ìŠ¤ë ˆë“œì—ì„œ ë™ì‹œì— ì½ê¸°/ì“°ê¸° ê°€ëŠ¥
- ì„¸ë¶„í™”ëœ ì ê¸ˆ ë˜ëŠ” lock-free ê¸°ìˆ  ì‚¬ìš©
- ì—´ê±° ì‹œ ìŠ¤ëƒ…ìƒ· ìƒì„±

### ğŸ”§ ì£¼ìš” íƒ€ì…
- `ConcurrentDictionary<TKey, TValue>`
- `ConcurrentQueue<T>`, `ConcurrentStack<T>`, `ConcurrentBag<T>`

### ğŸ§ª ì˜ˆì‹œ

```csharp
var dict = new ConcurrentDictionary<int, string>();
dict.AddOrUpdate(0, key => "Zero", (key, old) => "Zero");
```
- AddOrUpdateëŠ” ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ
- ì—°ì‚°ì€ ìŠ¤ë ˆë“œ ì•ˆì „í•˜ì§€ë§Œ ì›ìì ì´ì§€ ì•ŠìŒ

---

## ğŸ”„ ìƒì‚°ì/ì†Œë¹„ì ì»¬ë ‰ì…˜

### âœ… ëª©ì 
- ìƒì‚°ìì™€ ì†Œë¹„ì ê°„ ë°ì´í„° ì „ë‹¬
- í•­ëª© ìˆ˜ ì œí•œ ê°€ëŠ¥
- ë™ê¸°/ë¹„ë™ê¸° API ì§€ì›

### ğŸ”§ ì£¼ìš” API
- `Channel<T>`
- `BlockingCollection<T>`
- `BufferBlock<T>`
- `AsyncProducerConsumerQueue<T>`

### ğŸ§ª Channel ì˜ˆì‹œ

```csharp
var channel = Channel.CreateUnbounded<int>();
await channel.Writer.WriteAsync(7);
await foreach (var item in channel.Reader.ReadAllAsync())
    Console.WriteLine(item);
```
- WriteAsync, ReadAllAsyncë¡œ ë¹„ë™ê¸° ì²˜ë¦¬
- Complete()ë¡œ ì¢…ë£Œ ì•Œë¦¼ ê°€ëŠ¥

---

## âš™ï¸ ìŠ¤ë¡œí‹€ë§ (Throttling)
- ìƒì‚°ìê°€ ë„ˆë¬´ ë¹ ë¥¼ ê²½ìš° ë©”ëª¨ë¦¬ ì••ë°• ë°©ì§€
- `BoundedChannelOptions` ë˜ëŠ” `BoundedCapacity` ì„¤ì •

```csharp
var channel = Channel.CreateBounded<int>(new BoundedChannelOptions(1) {
    FullMode = BoundedChannelFullMode.Wait
});
```

---

## âš™ï¸ ìƒ˜í”Œë§ (Sampling)
- ì˜¤ë˜ëœ í•­ëª© ì œê±°: `DropOldest`
- ìƒˆ í•­ëª© ë¬´ì‹œ: `DropWrite`

```csharp
var channel = Channel.CreateBounded<int>(new BoundedChannelOptions(1) {
    FullMode = BoundedChannelFullMode.DropOldest
});
```

---

## ğŸ“š NuGet íŒ¨í‚¤ì§€ ìš”ì•½

| ê¸°ëŠ¥ | íŒ¨í‚¤ì§€ ì´ë¦„ |
|------|-------------|
| ë¶ˆë³€ ì»¬ë ‰ì…˜ | `System.Collections.Immutable` |
| ì±„ë„ | `System.Threading.Channels` |
| ë°ì´í„°í”Œë¡œìš° | `System.Threading.Tasks.Dataflow` |
| AsyncEx | `Nito.AsyncEx` |

---

## ğŸ§  ê²°ë¡  ë° ì„ íƒ ê°€ì´ë“œ

| ìƒí™© | ì¶”ì²œ ì»¬ë ‰ì…˜ |
|------|-------------|
| ìƒíƒœ ê³µìœ  | ë¶ˆë³€ ì»¬ë ‰ì…˜ |
| ë™ì‹œ ì ‘ê·¼ | ìŠ¤ë ˆë“œ ì•ˆì „ ì»¬ë ‰ì…˜ |
| ìŠ¤ë ˆë“œ ê°„ í†µì‹  | ìƒì‚°ì/ì†Œë¹„ì ì»¬ë ‰ì…˜ |
| ê³ ì„±ëŠ¥ ë¹„ë™ê¸° ì²˜ë¦¬ | Channel, BufferBlock |
| ìŠ¤ëƒ…ìƒ·/Undo ê¸°ëŠ¥ | ImmutableStack, ImmutableList |